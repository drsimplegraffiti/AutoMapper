2023-09-02 08:29:10.845 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5197/swagger/index.html - -
2023-09-02 08:29:11.025 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5197/swagger/index.html - - - 200 - text/html;charset=utf-8 186.7352ms
2023-09-02 08:29:11.231 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5197/swagger/v1/swagger.json - -
2023-09-02 08:29:11.317 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5197/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 86.5804ms
2023-09-02 08:29:17.990 +01:00 [INF] Application is shutting down...
2023-09-02 08:29:26.538 +01:00 [INF] User profile is available. Using '/Users/abayomiogunnusi/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2023-09-02 08:29:26.625 +01:00 [INF] Now listening on: http://localhost:5197
2023-09-02 08:29:26.627 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-02 08:29:26.627 +01:00 [INF] Hosting environment: Development
2023-09-02 08:29:26.627 +01:00 [INF] Content root path: /Users/abayomiogunnusi/Desktop/Blog/Techie
2023-09-02 08:29:54.311 +01:00 [INF] Application is shutting down...
2023-09-02 08:29:58.024 +01:00 [INF] User profile is available. Using '/Users/abayomiogunnusi/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2023-09-02 08:29:58.084 +01:00 [INF] Now listening on: http://localhost:5197
2023-09-02 08:29:58.086 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-02 08:29:58.086 +01:00 [INF] Hosting environment: Development
2023-09-02 08:29:58.086 +01:00 [INF] Content root path: /Users/abayomiogunnusi/Desktop/Blog/Techie
2023-09-02 08:29:59.218 +01:00 [INF] Application is shutting down...
2023-09-02 08:31:55.617 +01:00 [INF] User profile is available. Using '/Users/abayomiogunnusi/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2023-09-02 08:31:55.671 +01:00 [INF] Now listening on: http://localhost:5197
2023-09-02 08:31:55.673 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-02 08:31:55.673 +01:00 [INF] Hosting environment: Development
2023-09-02 08:31:55.673 +01:00 [INF] Content root path: /Users/abayomiogunnusi/Desktop/Blog/Techie
2023-09-02 08:32:03.033 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5197/swagger/index.html - -
2023-09-02 08:32:03.090 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5197/swagger/index.html - - - 200 - text/html;charset=utf-8 58.3925ms
2023-09-02 08:32:03.258 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5197/swagger/v1/swagger.json - -
2023-09-02 08:32:03.311 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5197/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 52.0905ms
2023-09-02 08:32:20.291 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5197/api/Authorize/Register application/json 150
2023-09-02 08:32:20.302 +01:00 [INF] CORS policy execution successful.
2023-09-02 08:32:20.306 +01:00 [WRN] Failed to determine the https port for redirect.
2023-09-02 08:32:20.336 +01:00 [INF] Executing endpoint 'Techie.Controllers.AuthorizeController.Register (Techie)'
2023-09-02 08:32:20.355 +01:00 [INF] Route matched with {action = "Register", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Techie.Modal.UserModel) on controller Techie.Controllers.AuthorizeController (Techie).
2023-09-02 08:32:21.041 +01:00 [INF] Executed DbCommand (133ms) [Parameters=[@__data_Code_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Code], [u].[Email], [u].[IsActive], [u].[Name], [u].[Password], [u].[PhoneNumber], [u].[role]
FROM [User] AS [u]
WHERE [u].[Code] = @__data_Code_0
2023-09-02 08:32:21.372 +01:00 [INF] Executed DbCommand (66ms) [Parameters=[@p0='?' (Size = 50) (DbType = AnsiString), @p1='?' (Size = 50) (DbType = AnsiString), @p2='?' (DbType = Boolean), @p3='?' (Size = 50) (DbType = AnsiString), @p4='?' (Size = 8000) (DbType = AnsiString), @p5='?' (Size = 50) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [User] ([Code], [Email], [IsActive], [Name], [Password], [PhoneNumber], [role])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2023-09-02 08:32:21.389 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'Techie.Repos.LearnDataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'schooldb.dbo.User', column 'Password'. Truncated value: '$2a$11$BoOpoypYO/wRs8UPo3M1k.Z/0ESGHSSWQ93O00uwnoc'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:46cbaaad-8645-47b2-bcc8-8e07f56a9037
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'schooldb.dbo.User', column 'Password'. Truncated value: '$2a$11$BoOpoypYO/wRs8UPo3M1k.Z/0ESGHSSWQ93O00uwnoc'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:46cbaaad-8645-47b2-bcc8-8e07f56a9037
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-09-02 08:32:21.395 +01:00 [INF] Executed action Techie.Controllers.AuthorizeController.Register (Techie) in 1037.831ms
2023-09-02 08:32:21.396 +01:00 [INF] Executed endpoint 'Techie.Controllers.AuthorizeController.Register (Techie)'
2023-09-02 08:32:21.400 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'schooldb.dbo.User', column 'Password'. Truncated value: '$2a$11$BoOpoypYO/wRs8UPo3M1k.Z/0ESGHSSWQ93O00uwnoc'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:46cbaaad-8645-47b2-bcc8-8e07f56a9037
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Techie.Controllers.AuthorizeController.Register(UserModel data) in /Users/abayomiogunnusi/Desktop/Blog/Techie/Controllers/AuthorizeController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-09-02 08:32:21.409 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5197/api/Authorize/Register application/json 150 - 500 - text/plain;+charset=utf-8 1118.3537ms
2023-09-02 08:33:10.680 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5197/api/Authorize/Register application/json 150
2023-09-02 08:33:10.701 +01:00 [INF] CORS policy execution successful.
2023-09-02 08:33:10.705 +01:00 [INF] Executing endpoint 'Techie.Controllers.AuthorizeController.Register (Techie)'
2023-09-02 08:33:10.710 +01:00 [INF] Route matched with {action = "Register", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Techie.Modal.UserModel) on controller Techie.Controllers.AuthorizeController (Techie).
2023-09-02 08:33:10.783 +01:00 [INF] Executed DbCommand (30ms) [Parameters=[@__data_Code_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Code], [u].[Email], [u].[IsActive], [u].[Name], [u].[Password], [u].[PhoneNumber], [u].[role]
FROM [User] AS [u]
WHERE [u].[Code] = @__data_Code_0
2023-09-02 08:33:10.937 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 50) (DbType = AnsiString), @p1='?' (Size = 50) (DbType = AnsiString), @p2='?' (DbType = Boolean), @p3='?' (Size = 50) (DbType = AnsiString), @p4='?' (Size = 8000) (DbType = AnsiString), @p5='?' (Size = 50) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [User] ([Code], [Email], [IsActive], [Name], [Password], [PhoneNumber], [role])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2023-09-02 08:33:10.959 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-02 08:33:10.960 +01:00 [INF] Executed action Techie.Controllers.AuthorizeController.Register (Techie) in 249.8035ms
2023-09-02 08:33:10.960 +01:00 [INF] Executed endpoint 'Techie.Controllers.AuthorizeController.Register (Techie)'
2023-09-02 08:33:10.960 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5197/api/Authorize/Register application/json 150 - 200 - text/plain;+charset=utf-8 281.8342ms
2023-09-02 08:34:40.155 +01:00 [INF] Application is shutting down...
2023-09-02 08:34:45.075 +01:00 [INF] User profile is available. Using '/Users/abayomiogunnusi/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2023-09-02 08:34:45.126 +01:00 [INF] Now listening on: http://localhost:5197
2023-09-02 08:34:45.128 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-02 08:34:45.128 +01:00 [INF] Hosting environment: Development
2023-09-02 08:34:45.128 +01:00 [INF] Content root path: /Users/abayomiogunnusi/Desktop/Blog/Techie
2023-09-02 08:35:08.260 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5197/api/Authorize/GenerateToken application/json 53
2023-09-02 08:35:08.281 +01:00 [INF] CORS policy execution successful.
2023-09-02 08:35:08.283 +01:00 [WRN] Failed to determine the https port for redirect.
2023-09-02 08:35:08.297 +01:00 [INF] Executing endpoint 'Techie.Controllers.AuthorizeController.GenerateToken (Techie)'
2023-09-02 08:35:08.305 +01:00 [INF] Route matched with {action = "GenerateToken", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateToken(Techie.Modal.UserCred) on controller Techie.Controllers.AuthorizeController (Techie).
2023-09-02 08:35:08.829 +01:00 [INF] Executed DbCommand (57ms) [Parameters=[@__userCred_UserName_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Code], [u].[Email], [u].[IsActive], [u].[Name], [u].[Password], [u].[PhoneNumber], [u].[role]
FROM [User] AS [u]
WHERE [u].[Code] = @__userCred_UserName_0
2023-09-02 08:35:09.098 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__ToString_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[userid], [r].[refreshtoken], [r].[tokenid]
FROM [RefreshToken] AS [r]
WHERE [r].[userid] = @__ToString_0
2023-09-02 08:35:09.142 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 50) (DbType = AnsiString), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshToken] ([userid], [refreshtoken], [tokenid])
VALUES (@p0, @p1, @p2);
2023-09-02 08:35:09.154 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__ToString_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[userid], [r].[refreshtoken], [r].[tokenid]
FROM [RefreshToken] AS [r]
WHERE [r].[userid] = @__ToString_0
2023-09-02 08:35:09.166 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p2='?' (Size = 50) (DbType = AnsiString), @p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshToken] SET [refreshtoken] = @p0, [tokenid] = @p1
OUTPUT 1
WHERE [userid] = @p2;
2023-09-02 08:35:09.171 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-09-02 08:35:09.177 +01:00 [INF] Executed action Techie.Controllers.AuthorizeController.GenerateToken (Techie) in 870.4451ms
2023-09-02 08:35:09.178 +01:00 [INF] Executed endpoint 'Techie.Controllers.AuthorizeController.GenerateToken (Techie)'
2023-09-02 08:35:09.183 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5197/api/Authorize/GenerateToken application/json 53 - 200 - application/json;+charset=utf-8 924.6724ms
2023-09-02 08:35:18.295 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5197/api/Authorize/GenerateToken application/json 54
2023-09-02 08:35:18.303 +01:00 [INF] CORS policy execution successful.
2023-09-02 08:35:18.305 +01:00 [INF] Executing endpoint 'Techie.Controllers.AuthorizeController.GenerateToken (Techie)'
2023-09-02 08:35:18.305 +01:00 [INF] Route matched with {action = "GenerateToken", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateToken(Techie.Modal.UserCred) on controller Techie.Controllers.AuthorizeController (Techie).
2023-09-02 08:35:18.356 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userCred_UserName_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Code], [u].[Email], [u].[IsActive], [u].[Name], [u].[Password], [u].[PhoneNumber], [u].[role]
FROM [User] AS [u]
WHERE [u].[Code] = @__userCred_UserName_0
2023-09-02 08:35:18.513 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2023-09-02 08:35:18.514 +01:00 [INF] Executed action Techie.Controllers.AuthorizeController.GenerateToken (Techie) in 203.8756ms
2023-09-02 08:35:18.514 +01:00 [INF] Executed endpoint 'Techie.Controllers.AuthorizeController.GenerateToken (Techie)'
2023-09-02 08:35:18.515 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5197/api/Authorize/GenerateToken application/json 54 - 404 - text/plain;+charset=utf-8 219.5025ms
2023-09-02 08:35:35.535 +01:00 [INF] Application is shutting down...
2023-09-02 08:35:40.081 +01:00 [INF] User profile is available. Using '/Users/abayomiogunnusi/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2023-09-02 08:35:40.141 +01:00 [INF] Now listening on: http://localhost:5197
2023-09-02 08:35:40.142 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-02 08:35:40.142 +01:00 [INF] Hosting environment: Development
2023-09-02 08:35:40.142 +01:00 [INF] Content root path: /Users/abayomiogunnusi/Desktop/Blog/Techie
2023-09-02 08:35:40.323 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5197/api/Authorize/GenerateToken application/json 53
2023-09-02 08:35:40.337 +01:00 [INF] CORS policy execution successful.
2023-09-02 08:35:40.338 +01:00 [WRN] Failed to determine the https port for redirect.
2023-09-02 08:35:40.348 +01:00 [INF] Executing endpoint 'Techie.Controllers.AuthorizeController.GenerateToken (Techie)'
2023-09-02 08:35:40.355 +01:00 [INF] Route matched with {action = "GenerateToken", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateToken(Techie.Modal.UserCred) on controller Techie.Controllers.AuthorizeController (Techie).
2023-09-02 08:35:40.795 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userCred_UserName_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Code], [u].[Email], [u].[IsActive], [u].[Name], [u].[Password], [u].[PhoneNumber], [u].[role]
FROM [User] AS [u]
WHERE [u].[Code] = @__userCred_UserName_0
2023-09-02 08:35:41.204 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__ToString_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[userid], [r].[refreshtoken], [r].[tokenid]
FROM [RefreshToken] AS [r]
WHERE [r].[userid] = @__ToString_0
2023-09-02 08:35:41.254 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p2='?' (Size = 50) (DbType = AnsiString), @p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshToken] SET [refreshtoken] = @p0, [tokenid] = @p1
OUTPUT 1
WHERE [userid] = @p2;
2023-09-02 08:35:41.264 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ToString_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[userid], [r].[refreshtoken], [r].[tokenid]
FROM [RefreshToken] AS [r]
WHERE [r].[userid] = @__ToString_0
2023-09-02 08:35:41.271 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (Size = 50) (DbType = AnsiString), @p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshToken] SET [refreshtoken] = @p0, [tokenid] = @p1
OUTPUT 1
WHERE [userid] = @p2;
2023-09-02 08:35:41.275 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-09-02 08:35:41.281 +01:00 [INF] Executed action Techie.Controllers.AuthorizeController.GenerateToken (Techie) in 924.7188ms
2023-09-02 08:35:41.282 +01:00 [INF] Executed endpoint 'Techie.Controllers.AuthorizeController.GenerateToken (Techie)'
2023-09-02 08:35:41.285 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5197/api/Authorize/GenerateToken application/json 53 - 200 - application/json;+charset=utf-8 963.2319ms
2023-09-02 08:36:27.929 +01:00 [INF] Application is shutting down...
2023-09-02 08:36:32.342 +01:00 [INF] User profile is available. Using '/Users/abayomiogunnusi/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2023-09-02 08:36:32.398 +01:00 [INF] Now listening on: http://localhost:5197
2023-09-02 08:36:32.400 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-02 08:36:32.400 +01:00 [INF] Hosting environment: Development
2023-09-02 08:36:32.400 +01:00 [INF] Content root path: /Users/abayomiogunnusi/Desktop/Blog/Techie
2023-09-02 08:36:32.763 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5197/api/Authorize/GenerateToken application/json 53
2023-09-02 08:36:32.779 +01:00 [INF] CORS policy execution successful.
2023-09-02 08:36:32.780 +01:00 [WRN] Failed to determine the https port for redirect.
2023-09-02 08:36:32.792 +01:00 [INF] Executing endpoint 'Techie.Controllers.AuthorizeController.GenerateToken (Techie)'
2023-09-02 08:36:32.800 +01:00 [INF] Route matched with {action = "GenerateToken", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateToken(Techie.Modal.UserCred) on controller Techie.Controllers.AuthorizeController (Techie).
2023-09-02 08:36:33.250 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userCred_UserName_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Code], [u].[Email], [u].[IsActive], [u].[Name], [u].[Password], [u].[PhoneNumber], [u].[role]
FROM [User] AS [u]
WHERE [u].[Code] = @__userCred_UserName_0
2023-09-02 08:36:33.653 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__ToString_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[userid], [r].[refreshtoken], [r].[tokenid]
FROM [RefreshToken] AS [r]
WHERE [r].[userid] = @__ToString_0
2023-09-02 08:36:33.701 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@p2='?' (Size = 50) (DbType = AnsiString), @p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshToken] SET [refreshtoken] = @p0, [tokenid] = @p1
OUTPUT 1
WHERE [userid] = @p2;
2023-09-02 08:36:33.708 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToString_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[userid], [r].[refreshtoken], [r].[tokenid]
FROM [RefreshToken] AS [r]
WHERE [r].[userid] = @__ToString_0
2023-09-02 08:36:33.713 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (Size = 50) (DbType = AnsiString), @p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshToken] SET [refreshtoken] = @p0, [tokenid] = @p1
OUTPUT 1
WHERE [userid] = @p2;
2023-09-02 08:36:33.716 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-09-02 08:36:33.720 +01:00 [INF] Executed action Techie.Controllers.AuthorizeController.GenerateToken (Techie) in 918.59ms
2023-09-02 08:36:33.720 +01:00 [INF] Executed endpoint 'Techie.Controllers.AuthorizeController.GenerateToken (Techie)'
2023-09-02 08:36:33.723 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5197/api/Authorize/GenerateToken application/json 53 - 200 - application/json;+charset=utf-8 961.8082ms
2023-09-02 08:36:46.996 +01:00 [INF] Application is shutting down...
2023-09-02 08:37:18.750 +01:00 [INF] User profile is available. Using '/Users/abayomiogunnusi/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2023-09-02 08:37:18.802 +01:00 [INF] Now listening on: http://localhost:5197
2023-09-02 08:37:18.804 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-02 08:37:18.804 +01:00 [INF] Hosting environment: Development
2023-09-02 08:37:18.804 +01:00 [INF] Content root path: /Users/abayomiogunnusi/Desktop/Blog/Techie
2023-09-02 08:37:39.592 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5197/api/Authorize/GenerateToken application/json 53
2023-09-02 08:37:39.623 +01:00 [WRN] Failed to determine the https port for redirect.
2023-09-02 08:37:39.678 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '9/1/2023 5:39:26 PM', Current time: '9/2/2023 7:37:39 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-02 08:37:39.682 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '9/1/2023 5:39:26 PM', Current time: '9/2/2023 7:37:39 AM'.
2023-09-02 08:37:39.683 +01:00 [INF] Executing endpoint 'Techie.Controllers.AuthorizeController.GenerateToken (Techie)'
2023-09-02 08:37:39.691 +01:00 [INF] Route matched with {action = "GenerateToken", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateToken(Techie.Modal.UserCred) on controller Techie.Controllers.AuthorizeController (Techie).
2023-09-02 08:37:40.179 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userCred_UserName_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Code], [u].[Email], [u].[IsActive], [u].[Name], [u].[Password], [u].[PhoneNumber], [u].[role]
FROM [User] AS [u]
WHERE [u].[Code] = @__userCred_UserName_0
2023-09-02 08:37:40.436 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ToString_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[userid], [r].[refreshtoken], [r].[tokenid]
FROM [RefreshToken] AS [r]
WHERE [r].[userid] = @__ToString_0
2023-09-02 08:37:40.479 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@p2='?' (Size = 50) (DbType = AnsiString), @p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshToken] SET [refreshtoken] = @p0, [tokenid] = @p1
OUTPUT 1
WHERE [userid] = @p2;
2023-09-02 08:37:40.486 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[userid], [r].[refreshtoken], [r].[tokenid]
FROM [RefreshToken] AS [r]
WHERE [r].[userid] = @__ToString_0
2023-09-02 08:37:40.490 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (Size = 50) (DbType = AnsiString), @p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshToken] SET [refreshtoken] = @p0, [tokenid] = @p1
OUTPUT 1
WHERE [userid] = @p2;
2023-09-02 08:37:40.492 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[userid], [r].[refreshtoken], [r].[tokenid]
FROM [RefreshToken] AS [r]
WHERE [r].[userid] = @__ToString_0
2023-09-02 08:37:40.494 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (Size = 50) (DbType = AnsiString), @p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshToken] SET [refreshtoken] = @p0, [tokenid] = @p1
OUTPUT 1
WHERE [userid] = @p2;
2023-09-02 08:37:40.496 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-09-02 08:37:40.500 +01:00 [INF] Executed action Techie.Controllers.AuthorizeController.GenerateToken (Techie) in 808.0631ms
2023-09-02 08:37:40.501 +01:00 [INF] Executed endpoint 'Techie.Controllers.AuthorizeController.GenerateToken (Techie)'
2023-09-02 08:37:40.504 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5197/api/Authorize/GenerateToken application/json 53 - 200 - application/json;+charset=utf-8 913.3742ms
2023-09-02 08:37:51.287 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5197/api/Authorize/GenerateToken application/json 53
2023-09-02 08:37:51.318 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '9/1/2023 5:39:26 PM', Current time: '9/2/2023 7:37:51 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-02 08:37:51.319 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '9/1/2023 5:39:26 PM', Current time: '9/2/2023 7:37:51 AM'.
2023-09-02 08:37:51.320 +01:00 [INF] Executing endpoint 'Techie.Controllers.AuthorizeController.GenerateToken (Techie)'
2023-09-02 08:37:51.320 +01:00 [INF] Route matched with {action = "GenerateToken", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateToken(Techie.Modal.UserCred) on controller Techie.Controllers.AuthorizeController (Techie).
2023-09-02 08:37:51.345 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userCred_UserName_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Code], [u].[Email], [u].[IsActive], [u].[Name], [u].[Password], [u].[PhoneNumber], [u].[role]
FROM [User] AS [u]
WHERE [u].[Code] = @__userCred_UserName_0
2023-09-02 08:37:51.509 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ToString_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[userid], [r].[refreshtoken], [r].[tokenid]
FROM [RefreshToken] AS [r]
WHERE [r].[userid] = @__ToString_0
2023-09-02 08:37:51.518 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p2='?' (Size = 50) (DbType = AnsiString), @p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshToken] SET [refreshtoken] = @p0, [tokenid] = @p1
OUTPUT 1
WHERE [userid] = @p2;
2023-09-02 08:37:51.520 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[userid], [r].[refreshtoken], [r].[tokenid]
FROM [RefreshToken] AS [r]
WHERE [r].[userid] = @__ToString_0
2023-09-02 08:37:51.524 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (Size = 50) (DbType = AnsiString), @p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshToken] SET [refreshtoken] = @p0, [tokenid] = @p1
OUTPUT 1
WHERE [userid] = @p2;
2023-09-02 08:37:51.526 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToString_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[userid], [r].[refreshtoken], [r].[tokenid]
FROM [RefreshToken] AS [r]
WHERE [r].[userid] = @__ToString_0
2023-09-02 08:37:51.528 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (Size = 50) (DbType = AnsiString), @p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshToken] SET [refreshtoken] = @p0, [tokenid] = @p1
OUTPUT 1
WHERE [userid] = @p2;
2023-09-02 08:37:51.529 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-09-02 08:37:51.529 +01:00 [INF] Executed action Techie.Controllers.AuthorizeController.GenerateToken (Techie) in 208.5351ms
2023-09-02 08:37:51.529 +01:00 [INF] Executed endpoint 'Techie.Controllers.AuthorizeController.GenerateToken (Techie)'
2023-09-02 08:37:51.529 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5197/api/Authorize/GenerateToken application/json 53 - 200 - application/json;+charset=utf-8 242.1832ms
2023-09-02 08:38:13.770 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5197/api/Authorize/RefreshToken application/json 51
2023-09-02 08:38:13.793 +01:00 [INF] CORS policy execution successful.
2023-09-02 08:38:13.801 +01:00 [INF] Executing endpoint 'Techie.Controllers.AuthorizeController.RefreshToken (Techie)'
2023-09-02 08:38:13.804 +01:00 [INF] Route matched with {action = "RefreshToken", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Techie.Modal.TokenResponse) on controller Techie.Controllers.AuthorizeController (Techie).
2023-09-02 08:38:13.870 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__token_RefreshToken_0='?' (Size = 8000) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[userid], [r].[refreshtoken], [r].[tokenid]
FROM [RefreshToken] AS [r]
WHERE [r].[refreshtoken] = @__token_RefreshToken_0
2023-09-02 08:38:13.871 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-09-02 08:38:13.871 +01:00 [INF] Executed action Techie.Controllers.AuthorizeController.RefreshToken (Techie) in 66.9301ms
2023-09-02 08:38:13.872 +01:00 [INF] Executed endpoint 'Techie.Controllers.AuthorizeController.RefreshToken (Techie)'
2023-09-02 08:38:13.872 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5197/api/Authorize/RefreshToken application/json 51 - 400 - text/plain;+charset=utf-8 101.6436ms
2023-09-02 08:38:19.248 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5197/api/Customer - -
2023-09-02 08:38:19.284 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-02 08:38:19.288 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-02 08:38:19.288 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5197/api/Customer - - - 401 0 - 40.0460ms
2023-09-02 08:38:34.986 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5197/api/Customer application/json 82
2023-09-02 08:38:34.995 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-02 08:38:34.996 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-02 08:38:34.997 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5197/api/Customer application/json 82 - 401 0 - 11.6131ms
2023-09-02 08:38:38.588 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5197/api/Authorize/GenerateToken application/json 53
2023-09-02 08:38:38.597 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '9/1/2023 5:39:26 PM', Current time: '9/2/2023 7:38:38 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-02 08:38:38.599 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '9/1/2023 5:39:26 PM', Current time: '9/2/2023 7:38:38 AM'.
2023-09-02 08:38:38.600 +01:00 [INF] Executing endpoint 'Techie.Controllers.AuthorizeController.GenerateToken (Techie)'
2023-09-02 08:38:38.601 +01:00 [INF] Route matched with {action = "GenerateToken", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateToken(Techie.Modal.UserCred) on controller Techie.Controllers.AuthorizeController (Techie).
2023-09-02 08:38:38.632 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userCred_UserName_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Code], [u].[Email], [u].[IsActive], [u].[Name], [u].[Password], [u].[PhoneNumber], [u].[role]
FROM [User] AS [u]
WHERE [u].[Code] = @__userCred_UserName_0
2023-09-02 08:38:38.801 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__ToString_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[userid], [r].[refreshtoken], [r].[tokenid]
FROM [RefreshToken] AS [r]
WHERE [r].[userid] = @__ToString_0
2023-09-02 08:38:38.813 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p2='?' (Size = 50) (DbType = AnsiString), @p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshToken] SET [refreshtoken] = @p0, [tokenid] = @p1
OUTPUT 1
WHERE [userid] = @p2;
2023-09-02 08:38:38.815 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[userid], [r].[refreshtoken], [r].[tokenid]
FROM [RefreshToken] AS [r]
WHERE [r].[userid] = @__ToString_0
2023-09-02 08:38:38.818 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (Size = 50) (DbType = AnsiString), @p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshToken] SET [refreshtoken] = @p0, [tokenid] = @p1
OUTPUT 1
WHERE [userid] = @p2;
2023-09-02 08:38:38.820 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[userid], [r].[refreshtoken], [r].[tokenid]
FROM [RefreshToken] AS [r]
WHERE [r].[userid] = @__ToString_0
2023-09-02 08:38:38.823 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (Size = 50) (DbType = AnsiString), @p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshToken] SET [refreshtoken] = @p0, [tokenid] = @p1
OUTPUT 1
WHERE [userid] = @p2;
2023-09-02 08:38:38.823 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-09-02 08:38:38.823 +01:00 [INF] Executed action Techie.Controllers.AuthorizeController.GenerateToken (Techie) in 222.5954ms
2023-09-02 08:38:38.824 +01:00 [INF] Executed endpoint 'Techie.Controllers.AuthorizeController.GenerateToken (Techie)'
2023-09-02 08:38:38.824 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5197/api/Authorize/GenerateToken application/json 53 - 200 - application/json;+charset=utf-8 235.8711ms
2023-09-02 08:38:51.398 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5197/api/Customer application/json 82
2023-09-02 08:38:51.427 +01:00 [INF] Executing endpoint 'Techie.Container.CustomerController.GetAll (Techie)'
2023-09-02 08:38:51.429 +01:00 [INF] Route matched with {action = "GetAll", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Techie.Container.CustomerController (Techie).
2023-09-02 08:38:51.472 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Code], [c].[CreatedDate], [c].[Creditlimit], [c].[Email], [c].[IsActive], [c].[Name], [c].[PhoneNumber], [c].[TaxCode], [c].[UpdatedDate]
FROM [Customer] AS [c]
2023-09-02 08:38:51.490 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Techie.Modal.CustomerModel, Techie, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-09-02 08:38:51.499 +01:00 [INF] Executed action Techie.Container.CustomerController.GetAll (Techie) in 69.5105ms
2023-09-02 08:38:51.499 +01:00 [INF] Executed endpoint 'Techie.Container.CustomerController.GetAll (Techie)'
2023-09-02 08:38:51.500 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5197/api/Customer application/json 82 - 200 - application/json;+charset=utf-8 102.2081ms
2023-09-02 08:39:20.476 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5197/api/Authorize/GenerateToken application/json 53
2023-09-02 08:39:20.483 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '9/1/2023 5:39:26 PM', Current time: '9/2/2023 7:39:20 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-02 08:39:20.485 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '9/1/2023 5:39:26 PM', Current time: '9/2/2023 7:39:20 AM'.
2023-09-02 08:39:20.485 +01:00 [INF] Executing endpoint 'Techie.Controllers.AuthorizeController.GenerateToken (Techie)'
2023-09-02 08:39:20.486 +01:00 [INF] Route matched with {action = "GenerateToken", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateToken(Techie.Modal.UserCred) on controller Techie.Controllers.AuthorizeController (Techie).
2023-09-02 08:39:20.508 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userCred_UserName_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Code], [u].[Email], [u].[IsActive], [u].[Name], [u].[Password], [u].[PhoneNumber], [u].[role]
FROM [User] AS [u]
WHERE [u].[Code] = @__userCred_UserName_0
2023-09-02 08:39:20.657 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ToString_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[userid], [r].[refreshtoken], [r].[tokenid]
FROM [RefreshToken] AS [r]
WHERE [r].[userid] = @__ToString_0
2023-09-02 08:39:20.669 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p2='?' (Size = 50) (DbType = AnsiString), @p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshToken] SET [refreshtoken] = @p0, [tokenid] = @p1
OUTPUT 1
WHERE [userid] = @p2;
2023-09-02 08:39:20.671 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[userid], [r].[refreshtoken], [r].[tokenid]
FROM [RefreshToken] AS [r]
WHERE [r].[userid] = @__ToString_0
2023-09-02 08:39:20.676 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (Size = 50) (DbType = AnsiString), @p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshToken] SET [refreshtoken] = @p0, [tokenid] = @p1
OUTPUT 1
WHERE [userid] = @p2;
2023-09-02 08:39:20.679 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToString_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[userid], [r].[refreshtoken], [r].[tokenid]
FROM [RefreshToken] AS [r]
WHERE [r].[userid] = @__ToString_0
2023-09-02 08:39:20.682 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (Size = 50) (DbType = AnsiString), @p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshToken] SET [refreshtoken] = @p0, [tokenid] = @p1
OUTPUT 1
WHERE [userid] = @p2;
2023-09-02 08:39:20.682 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-09-02 08:39:20.683 +01:00 [INF] Executed action Techie.Controllers.AuthorizeController.GenerateToken (Techie) in 196.2068ms
2023-09-02 08:39:20.683 +01:00 [INF] Executed endpoint 'Techie.Controllers.AuthorizeController.GenerateToken (Techie)'
2023-09-02 08:39:20.683 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5197/api/Authorize/GenerateToken application/json 53 - 200 - application/json;+charset=utf-8 207.1551ms
2023-09-02 08:39:28.102 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5197/api/Authorize/RefreshToken application/json 304
2023-09-02 08:39:28.111 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-02 08:39:28.120 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
2023-09-02 08:39:28.122 +01:00 [INF] Executing endpoint 'Techie.Controllers.AuthorizeController.RefreshToken (Techie)'
2023-09-02 08:39:28.125 +01:00 [INF] Route matched with {action = "RefreshToken", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Techie.Modal.TokenResponse) on controller Techie.Controllers.AuthorizeController (Techie).
2023-09-02 08:39:28.147 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__token_RefreshToken_0='?' (Size = 8000) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[userid], [r].[refreshtoken], [r].[tokenid]
FROM [RefreshToken] AS [r]
WHERE [r].[refreshtoken] = @__token_RefreshToken_0
2023-09-02 08:39:28.163 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 50) (DbType = AnsiString), @__8__locals1_token_RefreshToken_1='?' (Size = 8000) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[userid], [r].[refreshtoken], [r].[tokenid]
FROM [RefreshToken] AS [r]
WHERE [r].[userid] = @__userId_0 AND [r].[refreshtoken] = @__8__locals1_token_RefreshToken_1
2023-09-02 08:39:28.174 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ToString_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[userid], [r].[refreshtoken], [r].[tokenid]
FROM [RefreshToken] AS [r]
WHERE [r].[userid] = @__ToString_0
2023-09-02 08:39:28.183 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (Size = 50) (DbType = AnsiString), @p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshToken] SET [refreshtoken] = @p0, [tokenid] = @p1
OUTPUT 1
WHERE [userid] = @p2;
2023-09-02 08:39:28.183 +01:00 [INF] Executing OkObjectResult, writing value of type 'Techie.Modal.TokenResponse'.
2023-09-02 08:39:28.184 +01:00 [INF] Executed action Techie.Controllers.AuthorizeController.RefreshToken (Techie) in 59.2541ms
2023-09-02 08:39:28.185 +01:00 [INF] Executed endpoint 'Techie.Controllers.AuthorizeController.RefreshToken (Techie)'
2023-09-02 08:39:28.185 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5197/api/Authorize/RefreshToken application/json 304 - 200 - application/json;+charset=utf-8 83.6747ms
2023-09-02 08:39:33.172 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5197/api/Customer application/json 82
2023-09-02 08:39:33.180 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '9/2/2023 7:39:08 AM', Current time: '9/2/2023 7:39:33 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-02 08:39:33.182 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '9/2/2023 7:39:08 AM', Current time: '9/2/2023 7:39:33 AM'.
2023-09-02 08:39:33.184 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-02 08:39:33.186 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-02 08:39:33.189 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5197/api/Customer application/json 82 - 401 0 - 16.4835ms
2023-09-02 08:39:44.047 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5197/api/Customer application/json 82
2023-09-02 08:39:44.072 +01:00 [INF] Executing endpoint 'Techie.Container.CustomerController.GetAll (Techie)'
2023-09-02 08:39:44.073 +01:00 [INF] Route matched with {action = "GetAll", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Techie.Container.CustomerController (Techie).
2023-09-02 08:39:44.104 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Code], [c].[CreatedDate], [c].[Creditlimit], [c].[Email], [c].[IsActive], [c].[Name], [c].[PhoneNumber], [c].[TaxCode], [c].[UpdatedDate]
FROM [Customer] AS [c]
2023-09-02 08:39:44.106 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Techie.Modal.CustomerModel, Techie, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-09-02 08:39:44.107 +01:00 [INF] Executed action Techie.Container.CustomerController.GetAll (Techie) in 33.6668ms
2023-09-02 08:39:44.107 +01:00 [INF] Executed endpoint 'Techie.Container.CustomerController.GetAll (Techie)'
2023-09-02 08:39:44.108 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5197/api/Customer application/json 82 - 200 - application/json;+charset=utf-8 61.0943ms
2023-09-02 08:39:47.836 +01:00 [INF] Application is shutting down...
2023-09-02 08:40:19.329 +01:00 [INF] User profile is available. Using '/Users/abayomiogunnusi/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2023-09-02 08:40:19.398 +01:00 [INF] Now listening on: http://localhost:5197
2023-09-02 08:40:19.399 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-02 08:40:19.399 +01:00 [INF] Hosting environment: Development
2023-09-02 08:40:19.399 +01:00 [INF] Content root path: /Users/abayomiogunnusi/Desktop/Blog/Techie
2023-09-02 08:40:22.829 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5197/api/Authorize/GenerateToken - 0
2023-09-02 08:40:22.863 +01:00 [WRN] Failed to determine the https port for redirect.
2023-09-02 08:40:22.927 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '9/1/2023 5:39:26 PM', Current time: '9/2/2023 7:40:22 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-02 08:40:22.932 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '9/1/2023 5:39:26 PM', Current time: '9/2/2023 7:40:22 AM'.
2023-09-02 08:40:22.934 +01:00 [INF] Executing endpoint 'Techie.Controllers.AuthorizeController.GenerateToken (Techie)'
2023-09-02 08:40:22.942 +01:00 [INF] Route matched with {action = "GenerateToken", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateToken(Techie.Modal.UserCred) on controller Techie.Controllers.AuthorizeController (Techie).
2023-09-02 08:40:22.995 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-09-02 08:40:23.002 +01:00 [INF] Executed action Techie.Controllers.AuthorizeController.GenerateToken (Techie) in 58.5578ms
2023-09-02 08:40:23.003 +01:00 [INF] Executed endpoint 'Techie.Controllers.AuthorizeController.GenerateToken (Techie)'
2023-09-02 08:40:23.004 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5197/api/Authorize/GenerateToken - 0 - 415 - application/problem+json;+charset=utf-8 176.9349ms
2023-09-02 08:40:32.683 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5197/api/Authorize/GenerateToken application/json 38
2023-09-02 08:40:32.692 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '9/1/2023 5:39:26 PM', Current time: '9/2/2023 7:40:32 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-02 08:40:32.694 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '9/1/2023 5:39:26 PM', Current time: '9/2/2023 7:40:32 AM'.
2023-09-02 08:40:32.694 +01:00 [INF] Executing endpoint 'Techie.Controllers.AuthorizeController.GenerateToken (Techie)'
2023-09-02 08:40:32.695 +01:00 [INF] Route matched with {action = "GenerateToken", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateToken(Techie.Modal.UserCred) on controller Techie.Controllers.AuthorizeController (Techie).
2023-09-02 08:40:33.151 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userCred_UserName_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Code], [u].[Email], [u].[IsActive], [u].[Name], [u].[Password], [u].[PhoneNumber], [u].[role]
FROM [User] AS [u]
WHERE [u].[Code] = @__userCred_UserName_0
2023-09-02 08:40:33.160 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2023-09-02 08:40:33.161 +01:00 [INF] Executed action Techie.Controllers.AuthorizeController.GenerateToken (Techie) in 466.2001ms
2023-09-02 08:40:33.161 +01:00 [INF] Executed endpoint 'Techie.Controllers.AuthorizeController.GenerateToken (Techie)'
2023-09-02 08:40:33.163 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5197/api/Authorize/GenerateToken application/json 38 - 404 - text/plain;+charset=utf-8 481.2604ms
2023-09-02 08:40:44.782 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5197/api/Authorize/GenerateToken application/json 53
2023-09-02 08:40:44.793 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '9/1/2023 5:39:26 PM', Current time: '9/2/2023 7:40:44 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-02 08:40:44.794 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '9/1/2023 5:39:26 PM', Current time: '9/2/2023 7:40:44 AM'.
2023-09-02 08:40:44.795 +01:00 [INF] Executing endpoint 'Techie.Controllers.AuthorizeController.GenerateToken (Techie)'
2023-09-02 08:40:44.796 +01:00 [INF] Route matched with {action = "GenerateToken", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateToken(Techie.Modal.UserCred) on controller Techie.Controllers.AuthorizeController (Techie).
2023-09-02 08:40:44.817 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userCred_UserName_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Code], [u].[Email], [u].[IsActive], [u].[Name], [u].[Password], [u].[PhoneNumber], [u].[role]
FROM [User] AS [u]
WHERE [u].[Code] = @__userCred_UserName_0
2023-09-02 08:40:45.085 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__ToString_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[userid], [r].[refreshtoken], [r].[tokenid]
FROM [RefreshToken] AS [r]
WHERE [r].[userid] = @__ToString_0
2023-09-02 08:40:45.124 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p2='?' (Size = 50) (DbType = AnsiString), @p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshToken] SET [refreshtoken] = @p0, [tokenid] = @p1
OUTPUT 1
WHERE [userid] = @p2;
2023-09-02 08:40:45.130 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToString_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[userid], [r].[refreshtoken], [r].[tokenid]
FROM [RefreshToken] AS [r]
WHERE [r].[userid] = @__ToString_0
2023-09-02 08:40:45.138 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p2='?' (Size = 50) (DbType = AnsiString), @p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshToken] SET [refreshtoken] = @p0, [tokenid] = @p1
OUTPUT 1
WHERE [userid] = @p2;
2023-09-02 08:40:45.140 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToString_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[userid], [r].[refreshtoken], [r].[tokenid]
FROM [RefreshToken] AS [r]
WHERE [r].[userid] = @__ToString_0
2023-09-02 08:40:45.143 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (Size = 50) (DbType = AnsiString), @p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshToken] SET [refreshtoken] = @p0, [tokenid] = @p1
OUTPUT 1
WHERE [userid] = @p2;
2023-09-02 08:40:45.143 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-09-02 08:40:45.145 +01:00 [INF] Executed action Techie.Controllers.AuthorizeController.GenerateToken (Techie) in 348.3944ms
2023-09-02 08:40:45.145 +01:00 [INF] Executed endpoint 'Techie.Controllers.AuthorizeController.GenerateToken (Techie)'
2023-09-02 08:40:45.145 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5197/api/Authorize/GenerateToken application/json 53 - 200 - application/json;+charset=utf-8 363.5978ms
2023-09-02 08:40:48.970 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5197/api/Authorize/GenerateToken - 0
2023-09-02 08:40:48.976 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '9/1/2023 5:39:26 PM', Current time: '9/2/2023 7:40:48 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-02 08:40:48.978 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '9/1/2023 5:39:26 PM', Current time: '9/2/2023 7:40:48 AM'.
2023-09-02 08:40:48.981 +01:00 [INF] Executing endpoint 'Techie.Controllers.AuthorizeController.GenerateToken (Techie)'
2023-09-02 08:40:48.981 +01:00 [INF] Route matched with {action = "GenerateToken", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateToken(Techie.Modal.UserCred) on controller Techie.Controllers.AuthorizeController (Techie).
2023-09-02 08:40:48.985 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-09-02 08:40:48.988 +01:00 [INF] Executed action Techie.Controllers.AuthorizeController.GenerateToken (Techie) in 6.0728ms
2023-09-02 08:40:48.988 +01:00 [INF] Executed endpoint 'Techie.Controllers.AuthorizeController.GenerateToken (Techie)'
2023-09-02 08:40:48.988 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5197/api/Authorize/GenerateToken - 0 - 415 - application/problem+json;+charset=utf-8 20.2020ms
2023-09-02 08:40:57.965 +01:00 [INF] Application is shutting down...
